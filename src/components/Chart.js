import "../styles.css";
import {
  BarChart,
  Bar,
  XAxis,
  YAxis,
  Tooltip,
  Legend,
  ResponsiveContainer,
  LabelList,
} from "recharts";

const iphoneXr = window.innerHeight === 896 && window.innerWidth === 414;

const Chart = () => {
  const data = [
    { language: "JavaScript", Proficiency: 90, pv: 100, amt: 100 },
    { language: "TypeScript", Proficiency: 75, pv: 40, amt: 100 },
    { language: "Node/Express", Proficiency: 70, pv: 70, amt: 70 },
    { language: "Redux", Proficiency: 50, pv: 100, amt: 100 },
  ];

  const renderCustomAxisTick = ({ x, y, payload }) => {
    let path = "";

    switch (payload.value) {
      case "JavaScript":
        path =
          "M0 32v448h448V32H0zm243.8 349.4c0 43.6-25.6 63.5-62.9 63.5-33.7 0-53.2-17.4-63.2-38.5l34.3-20.7c6.6 11.7 12.6 21.6 27.1 21.6 13.8 0 22.6-5.4 22.6-26.5V237.7h42.1v143.7zm99.6 63.5c-39.1 0-64.4-18.6-76.7-43l34.3-19.8c9 14.7 20.8 25.6 41.5 25.6 17.4 0 28.6-8.7 28.6-20.8 0-14.4-11.4-19.5-30.7-28l-10.5-4.5c-30.4-12.9-50.5-29.2-50.5-63.5 0-31.6 24.1-55.6 61.6-55.6 26.8 0 46 9.3 59.8 33.7L368 290c-7.2-12.9-15-18-27.1-18-12.3 0-20.1 7.8-20.1 18 0 12.6 7.8 17.7 25.9 25.6l10.5 4.5c35.8 15.3 55.9 31 55.9 66.2 0 37.8-29.8 58.6-69.7 58.6z";
        break;

      case "TypeScript":
        path =
          "M 0 232.5095 L 0 465.001 L 455.001 465.001 L 455.001 0 L 0 0 Z M 366.6681 213.9834 C 378.2233 216.9321 387.0346 222.1773 395.1245 230.7337 C 399.3196 235.3098 405.5258 243.6514 406.0337 245.6417 C 406.1778 246.2269 386.3884 259.8139 374.3946 267.4213 C 373.9733 267.7102 372.2275 265.7953 370.2718 262.8379 C 364.4205 254.123 358.2865 250.3659 348.895 249.7055 C 335.1072 248.7474 326.1457 256.1309 326.2902 268.4534 C 326.2902 272.0713 326.7897 274.2021 328.2377 277.1685 C 331.2755 283.594 336.9101 287.4265 354.6002 295.2573 C 387.1705 309.5702 401.1091 319.0184 409.7649 332.4572 C 419.4365 347.4394 421.6115 371.3588 415.0423 389.141 C 407.8174 408.4846 389.9087 421.6171 364.7096 425.9782 C 356.9108 427.3822 338.4196 427.16 330.0406 425.6154 C 311.7747 422.2953 294.4403 413.0694 283.7478 400.9615 C 279.5528 396.2376 271.3991 383.9137 271.907 383.0206 C 272.1179 382.7245 274.0016 381.5427 276.0962 380.287 L 292.9949 370.3354 L 306.079 362.58 L 308.8199 366.7191 C 312.6484 372.699 321.0303 380.8913 326.0813 383.6175 C 340.603 391.447 360.5338 390.3319 370.3525 381.3295 C 374.5476 377.4228 376.2757 373.3594 376.2757 367.3795 C 376.2757 361.9937 375.6317 359.6316 372.8825 355.5769 C 369.3425 350.4159 362.1181 346.0621 341.6046 336.977 C 318.1277 326.6447 308.0177 320.2266 298.7794 310.0352 C 293.4303 304.1294 288.3786 294.6814 286.2778 286.7854 C 284.5469 280.219 284.1116 263.7577 285.4848 257.1174 C 290.3178 233.8674 307.4352 217.7702 332.1414 212.9796 C 340.1589 211.4276 358.7972 212.0213 366.6596 214.0118 Z M 259.8521 233.3757 L 259.9966 252.4126 L 200.7748 252.4126 L 200.7748 424.3878 L 158.8879 424.3878 L 158.8879 252.4126 L 99.672 252.4126 L 99.672 233.7459 L 100.1655 214.5609 C 100.3822 214.2723 136.4265 214.1241 180.1169 214.1982 L 259.6329 214.4203 Z";
        break;

      case "Node/Express":
        path =
          "M224 508c-6.7 0-13.5-1.8-19.4-5.2l-61.7-36.5c-9.2-5.2-4.7-7-1.7-8 12.3-4.3 14.8-5.2 27.9-12.7 1.4-.8 3.2-.5 4.6.4l47.4 28.1c1.7 1 4.1 1 5.7 0l184.7-106.6c1.7-1 2.8-3 2.8-5V149.3c0-2.1-1.1-4-2.9-5.1L226.8 37.7c-1.7-1-4-1-5.7 0L36.6 144.3c-1.8 1-2.9 3-2.9 5.1v213.1c0 2 1.1 4 2.9 4.9l50.6 29.2c27.5 13.7 44.3-2.4 44.3-18.7V167.5c0-3 2.4-5.3 5.4-5.3h23.4c2.9 0 5.4 2.3 5.4 5.3V378c0 36.6-20 57.6-54.7 57.6-10.7 0-19.1 0-42.5-11.6l-48.4-27.9C8.1 389.2.7 376.3.7 362.4V149.3c0-13.8 7.4-26.8 19.4-33.7L204.6 9c11.7-6.6 27.2-6.6 38.8 0l184.7 106.7c12 6.9 19.4 19.8 19.4 33.7v213.1c0 13.8-7.4 26.7-19.4 33.7L243.4 502.8c-5.9 3.4-12.6 5.2-19.4 5.2zm149.1-210.1c0-39.9-27-50.5-83.7-58-57.4-7.6-63.2-11.5-63.2-24.9 0-11.1 4.9-25.9 47.4-25.9 37.9 0 51.9 8.2 57.7 33.8.5 2.4 2.7 4.2 5.2 4.2h24c1.5 0 2.9-.6 3.9-1.7s1.5-2.6 1.4-4.1c-3.7-44.1-33-64.6-92.2-64.6-52.7 0-84.1 22.2-84.1 59.5 0 40.4 31.3 51.6 81.8 56.6 60.5 5.9 65.2 14.8 65.2 26.7 0 20.6-16.6 29.4-55.5 29.4-48.9 0-59.6-12.3-63.2-36.6-.4-2.6-2.6-4.5-5.3-4.5h-23.9c-3 0-5.3 2.4-5.3 5.3 0 31.1 16.9 68.2 97.8 68.2 58.4-.1 92-23.2 92-63.4z";

        break;

      case "Redux":
        path =
          "M 240 20 C 168.320312 20 110 102.921875 110 204.863281 C 110 255.808594 124.851562 301.546875 148.417969 334.921875 C 142.785156 342.257812 140 351.148438 140 360 C 140 369.722656 143.1875 379.578125 150.019531 387.265625 C 156.851562 394.953125 167.5 400 180 400 C 192.5 400 203.148438 394.953125 209.980469 387.265625 C 216.8125 379.578125 220 369.722656 220 360 C 220 350.277344 216.8125 340.421875 209.980469 332.734375 C 203.148438 325.046875 192.5 320 180 320 C 174.179688 320 168.824219 321.179688 164.003906 323.125 C 143.175781 293.179688 130 251.441406 130 204.863281 C 130 113.953125 179.351562 40 240 40 C 294.191406 40 339.230469 99.09375 348.242188 176.503906 C 355.3125 179.195312 362.328125 182.226562 369.277344 185.566406 C 362.46875 92.667969 307.101562 20 240 20 Z M 220 150 C 207.5 150 196.851562 155.046875 190.019531 162.734375 C 183.1875 170.421875 180 180.277344 180 190 C 180 199.722656 183.1875 209.578125 190.019531 217.265625 C 196.851562 224.953125 207.5 230 220 230 C 232.5 230 243.148438 224.953125 249.980469 217.265625 C 254.25 212.460938 256.941406 206.777344 258.476562 200.839844 C 294.253906 199.300781 334.457031 209.871094 371.425781 232.03125 C 450.367188 279.351562 490.128906 361.867188 460.058594 415.957031 C 449.320312 435.265625 430.570312 448.976562 405.859375 455.585938 C 371.238281 464.867188 328.714844 459.160156 288.125 440.800781 C 282.265625 445.511719 276.066406 449.96875 269.6875 454.277344 C 302.9375 471.066406 338.125 479.960938 370.625 479.960938 C 384.734375 479.960938 398.335938 478.300781 411.035156 474.902344 C 441.105469 466.851562 464.109375 449.824219 477.539062 425.664062 C 512.777344 362.242188 469.789062 267.691406 381.699219 214.882812 C 341.9375 191.03125 298.253906 179.363281 258.867188 180.644531 C 257.441406 174.164062 254.609375 167.941406 249.980469 162.734375 C 243.148438 155.046875 232.5 150 220 150 Z M 220 170 C 227.5 170 231.851562 172.453125 235.019531 176.015625 C 238.1875 179.578125 240 184.722656 240 190 C 240 195.277344 238.1875 200.421875 235.019531 203.984375 C 231.851562 207.546875 227.5 210 220 210 C 212.5 210 208.148438 207.546875 204.980469 203.984375 C 201.8125 200.421875 200 195.277344 200 190 C 200 184.722656 201.8125 179.578125 204.980469 176.015625 C 208.148438 172.453125 212.5 170 220 170 Z M 91.621094 233.320312 C 21.980469 287.71875 -8.980469 369.0625 22.480469 425.664062 C 35.910156 449.824219 58.914062 466.832031 88.984375 474.882812 C 101.695312 478.28125 115.285156 479.960938 129.394531 479.960938 C 167.394531 479.960938 209.109375 467.878906 247.070312 445.117188 C 292.628906 417.804688 325.4375 379.332031 342.128906 339.785156 C 353.675781 339.230469 363.550781 334.5 369.980469 327.265625 C 376.8125 319.578125 380 309.722656 380 300 C 380 290.277344 376.8125 280.421875 369.980469 272.734375 C 363.148438 265.046875 352.5 260 340 260 C 327.5 260 316.851562 265.046875 310.019531 272.734375 C 303.1875 280.421875 300 290.277344 300 300 C 300 309.722656 303.1875 319.578125 310.019531 327.265625 C 313.339844 331 317.601562 334.078125 322.5 336.289062 C 306.816406 370.378906 277.152344 403.765625 236.777344 427.96875 C 189.277344 456.457031 135.960938 466.785156 94.140625 455.585938 C 69.421875 448.964844 50.691406 435.265625 39.960938 415.957031 C 14.539062 370.226562 39.148438 304.277344 95.019531 256.347656 C 93.570312 248.835938 92.441406 241.140625 91.621094 233.320312 Z M 340 280 C 347.5 280 351.851562 282.453125 355.019531 286.015625 C 358.1875 289.578125 360 294.722656 360 300 C 360 305.277344 358.1875 310.421875 355.019531 313.984375 C 351.851562 317.546875 347.5 320 340 320 C 332.5 320 328.148438 317.546875 324.980469 313.984375 C 321.8125 310.421875 320 305.277344 320 300 C 320 294.722656 321.8125 289.578125 324.980469 286.015625 C 328.148438 282.453125 332.5 280 340 280 Z M 180 340 C 187.5 340 191.851562 342.453125 195.019531 346.015625 C 198.1875 349.578125 200 354.722656 200 360 C 200 365.277344 198.1875 370.421875 195.019531 373.984375 C 191.851562 377.546875 187.5 380 180 380 C 172.5 380 168.148438 377.546875 164.980469 373.984375 C 161.8125 370.421875 160 365.277344 160 360 C 160 354.722656 161.8125 349.578125 164.980469 346.015625 C 168.148438 342.453125 172.5 340 180 340 Z M 180 340";

        break;

      default:
        path = "";
    }

    return (
      <svg
        x={x - 12}
        y={y + 2}
        width={52}
        height={52}
        viewBox="0 0 1024 1074"
        fill="#666"
      >
        <path d={path} />
      </svg>
    );
  };

  return (
    <center>
      <ResponsiveContainer className="rechart">
        <center>
          <BarChart
            style={{ marginLeft: iphoneXr && "4vw" }}
            width={window.screen.width > 600 ? window.screen.width - 200 : 450}
            height={500}
            data={data}
          >
            <XAxis
              dataKey="language"
              tick={renderCustomAxisTick}
              padding={{ left: 0, right: 1 }}
            />
            <YAxis tick={false} />
            <Tooltip />
            <Legend />

            <Bar dataKey="Proficiency" fill="#60a5fa" barSize={18}>
              <LabelList
                style={{ fontSize: "12px", color: "gray" }}
                dataKey="language"
                position="top"
              />
            </Bar>
          </BarChart>
        </center>
      </ResponsiveContainer>
      <div id="projects"></div>
    </center>
  );
};

export default Chart;
